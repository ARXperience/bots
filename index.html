<!DOCTYPE html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Asistente â€¢ Centro Digital de DiseÃ±o</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Tema oscuro (similar ChatGPT) */
      --bg:#0b0f14;
      --surface:#0e141b;
      --surface-2:#0f1720;
      --assistant:#111827;      /* burbuja assistant */
      --user:#1f2937;           /* burbuja usuario */
      --border:#232b35;
      --text:#e7edf3;
      --muted:#93a6bb;
      --accent:#10a37f;
      --code-bg:#0b1016; --code-br:#1b2430;
      --maxw:720px; --radius:18px;
    }
    [data-theme="light"]{
      --bg:#f7f9fc; --surface:#ffffff; --surface-2:#f2f5f9;
      --assistant:#ffffff; --user:#e9eef5; --border:#e1e7ef;
      --text:#0d141c; --muted:#5b6b7c; --code-bg:#f5f7fa; --code-br:#e1e7ef;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:var(--accent);text-decoration:none}

    .app{min-height:100vh;display:flex;flex-direction:column}
    .top{
      position:sticky;top:0;z-index:10;background:linear-gradient(180deg,var(--bg),transparent);
      border-bottom:1px solid var(--border);backdrop-filter:saturate(1.05) blur(6px)
    }
    .top-inner{max-width:var(--maxw);margin:0 auto;padding:14px 12px;display:flex;align-items:center;gap:10px}
    .brand{
      width:28px;height:28px;border-radius:8px;display:grid;place-items:center;font-weight:800;
      background:linear-gradient(135deg,#10a37f,#2dd4bf);color:#06231e
    }
    .title{font-weight:700}
    .grow{flex:1}
    .ghost{border:1px solid var(--border);background:transparent;color:var(--text);padding:7px 12px;border-radius:12px;cursor:pointer}

    .wrap{flex:1;display:flex;justify-content:center}
    .col{width:100%;max-width:var(--maxw);padding:12px}

    .messages{
      display:flex;flex-direction:column;gap:10px;padding:16px 0 140px; /* espacio para input fijo */
    }
    .row{display:flex;gap:12px}
    .row .avatar{
      width:28px;height:28px;border-radius:50%;flex:0 0 28px;
      display:grid;place-items:center;font-weight:700;font-size:12px;color:#d2f9ee;background:#0a201a;border:1px solid #174339
    }
    .row.user .avatar{background:#1b2430;border-color:#2c3746;color:#cfe3ff}
    .bubble{
      max-width:100%;border:1px solid var(--border);border-radius:18px;padding:12px 14px;line-height:1.6
    }
    .row.assistant .bubble{background:var(--assistant)}
    .row.user .bubble{background:var(--user)}
    .row.user{justify-content:flex-end}
    .row.user .avatar{order:2}
    .row.user .bubble{order:1}

    /* Markdown */
    .bubble h1,.bubble h2,.bubble h3{margin:6px 0 8px;font-weight:700}
    .bubble h1{font-size:18px}.bubble h2{font-size:16px}.bubble h3{font-size:15px}
    .bubble p{margin:8px 0}
    .bubble ul{margin:8px 0 8px 18px}
    .bubble code{font-family:"JetBrains Mono",ui-monospace,monospace;background:var(--code-bg);border:1px solid var(--code-br);padding:2px 6px;border-radius:8px}
    pre{background:var(--code-bg);border:1px solid var(--code-br);padding:12px;border-radius:12px;overflow:auto;margin:8px 0}
    pre code{background:none;border:none;padding:0}
    .code-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;color:var(--muted);font-size:12px}
    .copy{border:1px solid var(--border);background:transparent;color:var(--text);border-radius:10px;padding:6px 10px;cursor:pointer}

    /* Chips */
    .chips{display:flex;flex-wrap:wrap;gap:8px;margin:4px 0 4px}
    .chip{padding:7px 12px;border:1px solid var(--border);border-radius:999px;background:transparent;color:var(--text);cursor:pointer;font-size:13px}
    .chip:hover{border-color:#3a4656}

    /* Barra de entrada fija al fondo (estilo ChatGPT) */
    .composer-wrap{
      position:fixed;left:0;right:0;bottom:0;background:linear-gradient(180deg,transparent,var(--bg) 26%);
      display:flex;justify-content:center;padding:14px 10px;border-top:1px solid var(--border)
    }
    .composer{width:100%;max-width:var(--maxw);display:flex;gap:8px}
    .field{
      flex:1;display:flex;flex-direction:column;gap:8px
    }
    .toolbar{display:flex;gap:8px;flex-wrap:wrap}
    .ghost-sm{border:1px solid var(--border);background:transparent;color:var(--text);padding:6px 10px;border-radius:10px;font-size:13px;cursor:pointer}
    .input{
      background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:12px 14px;color:var(--text);outline:none;min-height:46px
    }
    .input::placeholder{color:var(--muted)}
    .send{background:var(--accent);color:#05231b;border:none;padding:0 18px;border-radius:12px;font-weight:700;cursor:pointer}

    .typing{display:none;align-items:center;gap:8px;color:var(--muted);font-size:14px}
    .dot{width:6px;height:6px;border-radius:50%;background:var(--muted);opacity:.6;animation:blink 1.2s infinite}
    .dot:nth-child(2){animation-delay:.2s}.dot:nth-child(3){animation-delay:.4s}
    @keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}

    @media (max-width:760px){
      .col{padding:10px}
      .messages{padding-bottom:160px}
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="top">
      <div class="top-inner">
        <div class="brand">AI</div>
        <div class="title">Asistente de Centro Digital de DiseÃ±o</div>
        <div class="grow"></div>
        <button id="theme" class="ghost" aria-label="Tema">Claro / Oscuro</button>
      </div>
    </header>

    <main class="wrap">
      <div class="col">
        <div id="messages" class="messages"></div>

        <div id="typing" class="typing"><span>Escribiendo</span><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>

        <!-- chips arriba (se aÃ±aden con el primer mensaje) -->
      </div>
    </main>

    <div class="composer-wrap">
      <div class="composer">
        <div class="field">
          <div class="toolbar">
            <button class="ghost-sm" disabled>ï¼‹</button>
            <button class="ghost-sm" disabled>ðŸ“Ž</button>
            <button class="ghost-sm" disabled>ðŸŽ¤</button>
          </div>
          <input id="input" class="input" placeholder="Escribe tu mensajeâ€¦ (Enter para enviar)" />
        </div>
        <button id="send" class="send">Enviar</button>
      </div>
    </div>
  </div>

  <script src="bot.js"></script>
  <script>
    // Tema claro/oscuro
    document.getElementById('theme').addEventListener('click', () => {
      const root = document.documentElement;
      root.setAttribute('data-theme', root.getAttribute('data-theme') === 'light' ? 'dark' : 'light');
    });
  </script>
</body>
</html>
